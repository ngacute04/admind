<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Đăng ký - RedZone</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        :root { --primary-red: #b91c1c; --dark-bg: #050505; --glass-border: rgba(255, 255, 255, 0.08); }
        body { background: var(--dark-bg); font-family: 'Plus Jakarta Sans', sans-serif; color: #f5f5f5; min-height: 100vh; margin: 0; overflow-x: hidden; }
        #particles-js { position: fixed; width: 100%; height: 100%; z-index: -1; }
        .bg-glow { position: fixed; width: 600px; height: 600px; background: radial-gradient(circle, rgba(185, 28, 28, 0.15) 0%, rgba(0,0,0,0) 70%); border-radius: 50%; filter: blur(80px); z-index: -1; }
      /* Tối ưu Footer cho mobile */
       .footer-fixed {
    /* Đưa về vị trí tuyệt đối ở đáy */
    position: absolute; 
    bottom: 1rem; /* Khoảng cách từ chữ đến mép dưới màn hình (chỉnh số này nhỏ đi nếu muốn thấp hơn nữa) */
    left: 50%;
    transform: translateX(-50%);
    
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.3   rem; /* Thu nhỏ khoảng cách giữa 2 dòng chữ */
    z-index: 20;
    width: 100%;
}
        /* Giữ nguyên Card - Bỏ hiệu ứng Hover dịch chuyển theo yêu cầu */
        #registerCard {
            background: rgba(10, 10, 10, 0.65);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid var(--glass-border);
            border-radius: 2.5rem;
            width: 100%;
            max-width: 480px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }
        .highlight-text {
    background: linear-gradient(90deg, #fff, #ef4444); /* Màu từ trắng sang đỏ */
    -webkit-background-clip: text; /* Cắt nền theo hình chữ */
    -webkit-text-fill-color: transparent; /* Làm rỗng ruột chữ để hiện nền gradient */
}
  

        .form-scroller { flex: 1; overflow-y: auto; padding: 0 1.5rem 1.5rem 1.5rem; max-height: 75vh; }
        .form-scroller::-webkit-scrollbar { width: 3px; }
        .form-scroller::-webkit-scrollbar-thumb { background: var(--primary-red); border-radius: 10px; }

        .input-group input, .input-group select {
            background: rgba(255, 255, 255, 0.03) !important;
            border: 1px solid var(--glass-border) !important;
            color: white !important;
            padding: 0.75rem 1rem 0.75rem 2.75rem !important;
            font-size: 13px !important;
            border-radius: 1rem !important;
            outline: none;
            width: 100%;
        }
        .input-group i.main-icon { font-size: 14px; color: #4b5563; position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); }
        .input-group input:focus { border-color: var(--primary-red) !important; background: rgba(185,28,28,0.05) !important; }

        /* Modal Thông báo chuẩn giao diện */
        #errorModal {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 100;
            background: rgba(0,0,0,0.85);
            backdrop-filter: blur(15px);
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        /* Responsive tinh chỉnh */
        @media (max-width: 1024px) {
            .desktop-sidebar { display:   none !important; }
            .mobile-brand { display: block !important; }
            body { overflow-y: auto; }
        }
        /* CHỈ THÊM: Thu nhỏ tỷ lệ trên thiết bị có màn hình nhỏ */
@media (max-width: 640px) {
    /* Thu nhỏ toàn bộ Form */
    #registerCard {
        transform: scale(0.9); /* Thu nhỏ toàn bộ card xuống còn 90% */
        transform-origin: top center; /* Thu nhỏ từ phía trên để không tạo khoảng trống */
        margin-top: -10px; /* Nhích lên trên một chút */
    }

    /* Thu nhỏ các tiêu đề chính */
    #registerCard h3 {
        font-size: 1.25rem !important; /* Chữ Tạo Tài Khoản nhỏ lại */
    }

    /* Thu nhỏ các nhãn và ô nhập liệu */
    .text-\[9px\] {
        font-size: 8px !important; /* Các chữ nhỏ "Danh tính", "Bảo mật" nhỏ lại */
    }

    .input-group input, 
    .input-group select {
        padding-top: 0.6rem !important;
        padding-bottom: 0.6rem !important;
        font-size: 14px !important; /* Thu nhỏ chữ trong ô nhập */
    }

    /* Thu nhỏ nút bấm */
    #submitBtn {
        padding-top: 0.75rem !important;
        padding-bottom: 0.75rem !important;
        font-size: 9px !important;
    }

    /* Thu nhỏ Logo RedZone trên mobile */
    .lg\:hidden h1 {
        font-size: 2.5rem !important;
        margin-bottom: 0.5rem !important;
    }

    /* Thu nhỏ Footer */
    .footer-fixed p {
        font-size: 8px !important;
    }
}
    </style>
</head>
<body class="flex items-center justify-center p-4 min-h-screen">

    <div id="errorModal">
        <div class="bg-[#0f0f0f] border border-red-600/30 p-8 rounded-[2.5rem] max-w-sm w-full text-center shadow-2xl">
            <div class="w-14 h-14 bg-red-600/10 border border-red-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-user-shield text-red-600 text-xl"></i>
            </div>
            <h4 class="text-white font-bold mb-2 uppercase text-sm tracking-widest">Xác thực hệ thống</h4>
            <p id="errorMessage" class="text-gray-400 text-xs mb-6 leading-relaxed"></p>
            <button onclick="closeError()" class="w-full py-3 bg-red-700 hover:bg-red-600 text-white rounded-xl text-[10px] font-bold uppercase tracking-widest transition-all">
                Tôi đã hiểu
            </button>
        </div>
    </div>

    <div id="particles-js"></div>
    <div class="bg-glow" style="top: -10%; left: -10%;"></div>

    <main class="relative z-10 w-full max-w-6xl grid grid-cols-1 lg:grid-cols-12 gap-8 items-center py-4">
        
        <div class="hidden lg:flex lg:col-span-6 flex-col justify-center p-12">
            <h1 class="text-7xl font-extrabold mb-4 tracking-tighter ">Red<span class="text-red-600">Zone</span></h1>
            <h2 class="text-2xl font-bold mb-6 highlight-text">Chạm vào thế giới mới</h2>
            
            <div class="space-y-8 max-w-lg">
                <div class="flex items-start gap-4">
                    <i class="fas fa-users text-red-500 mt-1 text-xl"></i>
                    <div>
                        <h4 class="font-bold text-gray-200">Kết nối không giới hạn</h4>
                        <p class="text-sm text-gray-400">Tham gia cùng hàng triệu người dùng, chia sẻ đam mê và tìm thấy cộng đồng thuộc về bạn.</p>
                    </div>
                </div>

                <div class="flex items-start gap-4">
                    <i class="fas fa-bolt text-red-500 mt-1 text-xl"></i>
                    <div>
                        <h4 class="font-bold text-gray-200">Trải nghiệm tức thì</h4>
                        <p class="text-sm text-gray-400">Tốc độ tải siêu nhanh, cập nhật xu hướng nóng hổi ngay trên bảng tin mỗi giây.</p>
                    </div>
                </div>

                <div class="flex items-start gap-4">
                    <i class="fas fa-gift text-red-500 mt-1 text-xl"></i>
                    <div>
                        <h4 class="font-bold text-gray-200">Phần thưởng độc quyền</h4>
                        <p class="text-sm text-gray-400">Đăng ký ngay hôm nay để nhận huy hiệu "Thành viên tiên phong" và nhiều ưu đãi hấp dẫn.</p>
                    </div>
                </div>
            </div>

           
        </div>

               <div class="lg:col-span-6 flex flex-col items-center w-full">
            
            <div class="lg:col-span-6 flex flex-col items-center justify-center relative w-full">
           <div class="lg:hidden text-center mb-8">
                <h1 class="text-5xl font-extrabold tracking-tighter ">Red<span class="text-red-600">Zone</span></h1>
                <p class="text-gray-500 text-[9px] uppercase tracking-[4px] mt-1">Chỉ một bước nhỏ để tận hưởng thế giới của bạn</p>
            </div>  
              <div id="registerCard">
                <div class="p-6 pb-2 text-center">
                    <h3 class="text-2xl font-bold uppercase tracking-normal text-white">Tạo Tài Khoản</h3>
                    <div class="h-1 w-8 bg-red-600 mx-auto mt-2 shadow-[0_0_10px_#b91c1c]"></div>
                </div> 


                
                <div class="form-scroller">
                    <form th:action="@{/register}" method="POST" class="space-y-3" onsubmit="return validateForm()">
                        
                        <div class="text-[9px] text-gray-500 uppercase tracking-widest mb-1 font-bold">Danh tính</div>
                        <div class="input-group relative">
                            <i class="fas fa-user main-icon"></i>
                            <input type="text" name="fullName" required placeholder="Họ và tên của bạn">
                        </div>

                        <div class="grid grid-cols-3 gap-3">
                            <div class="input-group relative">
                                <i class="fas fa-calendar-day main-icon"></i>
                                <input type="number" name="dob_day" id="dob_day" placeholder="Ngày" min="1" max="31" required>
                            </div>
                            <div class="input-group relative">
                                <input type="number" name="dob_month" id="dob_month" placeholder="Tháng" min="1" max="12" required>
                            </div>
                            <div class="input-group relative">
                                <input type="number" name="dob_year" id="dob_year" placeholder="Năm" min="1900" max="2026" required>
                            </div>
                        </div>

                        <div class="input-group relative">
                            <i class="fas fa-venus-mars main-icon"></i>
                            <select name="gender" class="appearance-none" required>
                                <option value="" disabled selected>Giới tính</option>
                                <option value="male">Nam</option>
                                <option value="female">Nữ</option>
                            </select>
                        </div>

                        <div class="text-[9px] text-gray-500 uppercase tracking-widest mb-1 mt-4 font-bold">Bảo mật</div>
                        <div class="input-group relative">
                            <i class="fas fa-at main-icon"></i>
                            <input type="email" name="email" required placeholder="Địa chỉ email hợp lệ">
                        </div>

                        <div class="input-group relative">
                            <i class="fas fa-shield-alt main-icon"></i>
                            <input type="password" name="password" id="password" required placeholder="Mật khẩu tài khoản">
                            <i class="fas fa-eye absolute right-4 top-1/2 -translate-y-1/2 cursor-pointer text-gray-600 text-[10px]" onclick="togglePass('password', this)"></i>
                        </div>

                        <div class="input-group relative">
                            <i class="fas fa-check-circle main-icon"></i>
                            <input type="password" id="confirm_password" required placeholder="Xác nhận lại mật khẩu">
                            <i class="fas fa-eye absolute right-4 top-1/2 -translate-y-1/2 cursor-pointer text-gray-600 text-[10px]" onclick="togglePass('confirm_password', this)"></i>
                        </div>

       

                        <div class="pt-4">
                            <button type="submit" id="submitBtn" class="w-full py-4 rounded-2xl bg-red-700 text-white font-bold uppercase text-[10px] tracking-[0.3em] shadow-lg hover:bg-red-600 active:scale-95 transition-all">
                                tạo tài khoản
                            </button>
                        </div>
                    </form>

                    <div class="text-center mt-6">
                        <a th:href="@{/login}" class="text-[10px] md:text-[11px] text-red-500 font-bold hover:text-red-700 transition-colors uppercase tracking-widest no-underline">
                            Đã có tài khoản? Đăng nhập
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>
      <footer class="footer-fixed">
        
        <p class="text-[9px] text-gray-700 tracking-[0.2em] md:tracking-[0.3em] uppercase text-center">© 2026 RedZone Hệ thống kết nối</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        particlesJS("particles-js", {
            "particles": {
                "number": { "value": 35 },
                "color": { "value": "#b91c1c" },
                "opacity": { "value": 0.15 },
                "size": { "value": 2 },
                "line_linked": { "enable": true, "distance": 150, "color": "#b91c1c", "opacity": 0.1, "width": 1 },
                "move": { "enable": true, "speed": 0.8 }
            }
        });

        function togglePass(id, icon) {
            const input = document.getElementById(id);
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.replace('fa-eye', 'fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.replace('fa-eye-slash', 'fa-eye');
            }
        }

        function showError(msg) {
            document.getElementById('errorMessage').innerText = msg;
            document.getElementById('errorModal').style.display = 'flex';
        }

        function closeError() {
            document.getElementById('errorModal').style.display = 'none';
        }

        function validateForm() {
            const day = parseInt(document.getElementById('dob_day').value);
            const month = parseInt(document.getElementById('dob_month').value) - 1;
            const year = parseInt(document.getElementById('dob_year').value);
            const pass = document.getElementById('password').value;
            const confirmPass = document.getElementById('confirm_password').value;

            // Kiểm tra ngày thực tế
            const dob = new Date(year, month, day);
            if (dob.getFullYear() !== year || dob.getMonth() !== month || dob.getDate() !== day) {
                showError("Ngày sinh bạn nhập không tồn tại. Vui lòng kiểm tra lại.");
                return false;
            }

            // Kiểm tra 16 tuổi (Tính theo năm 2026)
            const today = new Date();
            let age = today.getFullYear() - year;
            const m = today.getMonth() - month;
            if (m < 0 || (m === 0 && today.getDate() < day)) { age--; }

            if (age < 16) {
                showError("Bạn chưa đủ 16 tuổi. RedZone chỉ dành cho người dùng trưởng thành để đảm bảo an toàn nội dung.");
                return false;
            }

            // Kiểm tra mật khẩu
            if (pass !== confirmPass) {
                showError("Mật khẩu xác nhận không trùng khớp với mật khẩu đã nhập.");
                return false;
            }

            // Loading
            const btn = document.getElementById('submitBtn');
            btn.innerHTML = '<i class="fas fa-circle-notch fa-spin mr-2"></i> Đang xác thực...';
            btn.style.pointerEvents = 'none';

            return true;
        }
    </script>
</body>
</html>